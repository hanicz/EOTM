#Install docker, docker-compose on rpi
sudo curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker [user]
sudo apt install docker-compose -y

#Build for other platform (set experimental to true in settings)
docker buildx build --load --platform linux/arm/v7 -t thanicz/rpi .

#Digital ocean
docker login
docker buildx build --load --platform linux/amd64 -t thanicz/do:2 .
docker push thanicz/do:2
docker pull thanicz/do:2
docker images rm {id}

#Save image locally
docker save --output rpi.tar docker.io/thanicz/rpi:lastest

#Run
docker-compose up
docker-compose up -d //run in background

#Existing containers
docker ps

#Bash into container
docker exec -it <container_id> bash
psql -d <db_name> -U <user>
